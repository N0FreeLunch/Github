# 인증

## 명령줄 인증
### HTTPS 인증
- Reference : https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/about-authentication-to-github#https
- 흔히 `git clone https://레포지토리주소` 방식으로 사용할 경우 쓰는 것이다. 
- 방화벽이나 프록시에 연결된 인증이라도 HTTPS 방식을 통해 GitHub의 모든 리포지토리를 읽기, 쓰기 작업이 가능하다는 장점이 있다.
- HTTPS 인증의 경우 깃허브 ID/비밀번호를 입력하는 방식의 인증을 하고 있는데, 깃허브에서 비밀번호 인증을 2020년 11월 13일부터 중단하였다.
- 깃허브 엑세스 토큰을 통해서 인증을 해야 하며  `git push https://엑세스토큰@레포지토리주소` 방식으로 인증을 하게 된다.

#### 엑세스토큰의 문제
- 엑세스 토큰을 사용하면 작업 공간에서 프로젝트의 깃에 엑세스토큰 값을 기록하고 있는 점이다.
- 엑세스 토큰을 획득하면 깃허브에서 해당 엑세스 토큰에 허용한 다양한 작업을 할 수 있기 때문에 계정 권한을 획득하는 것과 같다. 따라서 엑세스 토큰은 노출되면 안된다.
- 엑세스 토큰은 보안 정보이기 때문에 외부로 노출되면 안 된다. 따라서 개인이 사용하는 컴퓨터에만 저장해야 하며, 해당 컴퓨터도 보안 인증을 통해 접근할 수 있도록 해야 한다.
- 공용 서버에서는 엑세스 토큰이 노출될 수 있기 때문에 사용해서는 안 된다.
- 엑세스 토큰을 '개인 엑세스 토큰'이라고 개인을 붙여서 부르는 것도 개인적으로만 사용하라는 의미에서 항상 붙여 쓰는 이름이다.


### SSH 인증
- Reference : https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/about-authentication-to-github#ssh
- 프로젝트 폴더에 저장된 비밀키와 깃허브에 저장된 공개키를 이용해서 인증을 시도한다.
- 방화벽과 프록시가 SSH 연결 허용을 거부할 가능성이 존재한다.
- 공용 서버에서는 SSH 키 암호를 설정해 두어 SSH를 통한 통신을 할 때마다 암호를 입력하는 방식으로 보안을 유지할 수 있다.

#### SSH 인증의 특징
- 리눅스나 유닉스의 경우 유저별로 SSH를 설정하기 위한 폴더가 주어진다.
- 보통은 유저별로 접속을 하고 설정된 SSH 키를 사용해서 깃허브에 접속하는 방식을 사용해야 한다.

## 공용 서버에서의 설정
- 깃허브에서 비밀번호 로그인을 차단했기 때문에 개인 엑세스 토큰 사용해야 하지만 공용 서버에서는 사용할 수 없다. 따라서 SSH를 통한 인증방식을 사용해야 한다.
- root 권한을 가진 유저는 개별 유저의 home 디렉토리에 접근할 수 있다. 따라서 SSH 키를 세팅할 때 비밀키가 root 유저에게 노출될 수 있다.
- 다른 유저가 특정 유저의 비밀 키를 볼 수 있기 때문에, 프라이빗 키는 외부 유저에 의해 복제 될 수 있다.
- 프라이빗 키가 복제되면 다른 사람이 자신의 깃허브에 엑세스를 할 수 있다. 따라서 프라이빗 키에 비밀번호를 설정하여 사용하여 프라이빗 키를 사용할 때 마다 비밀번호를 설정하게 만든다.
- SSH 키는 ~/.ssh 폴더 안에 만든다. 공개 키는 644, 프라이빗 키는 600, 홈 디렉토리는 755, .ssh 폴더는 700로 설정한다.
